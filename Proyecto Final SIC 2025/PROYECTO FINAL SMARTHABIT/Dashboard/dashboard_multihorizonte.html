<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Smart Consumption Dashboard</title>

<!-- Fuente -->
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">

<link rel="stylesheet" href="static/dashboard_multihorizonte.css">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>

<div class="layout">

    <!-- ================= SIDEBAR ================= -->
    <aside class="sidebar">

        <!-- LOGO / T칈TULO -->
        <div class="logo">
            <span class="logo-main">Smart</span>
            <span class="logo-sub">Consumption</span>
            <span class="logo-desc">AI Dashboard</span>
        </div>

        <!-- NAVEGACI칍N -->
        <nav class="sidebar-nav">
            <button class="nav-item active" onclick="mostrarSeccion('predicciones', this)">
                游늵 <span>Predicciones</span>
            </button>
            <button class="nav-item" onclick="mostrarSeccion('ahorro', this)">
                游눯 <span>Ahorro</span>
            </button>
            <button class="nav-item" onclick="mostrarSeccion('analitica', this)">
                游늳 <span>An치lisis</span>
            </button>
            <button class="nav-item" onclick="mostrarSeccion('alertas', this)">
                游뚿 <span>Alertas</span>
            </button>
            <button class="nav-item" onclick="mostrarSeccion('datos', this)">
                游늶 <span>Datos</span>
            </button>
        </nav>

    </aside>

    <!-- ================= CONTENIDO ================= -->
    <main class="main">
        <div class="view">

            <!-- ================= PREDICCIONES ================= -->
            <section id="predicciones" class="section active">

                <!-- PANEL DE CONTROL -->
                <div class="panel">
                    <h2>Panel de Control</h2>

                    <div class="controls">
                        <div>
                            <label>Horizonte</label>
                            <select id="horizonSelect">
                                <option value="1">1 hora</option>
                                <option value="6">6 horas</option>
                                <option value="12">12 horas</option>
                                <option value="24">24 horas</option>
                            </select>
                        </div>

                        <div>
                            <label>Variable</label>
                            <select id="variableSelect">
                                <option value="energia">Energ칤a (kWh)</option>
                                <option value="agua">Agua (Litros)</option>
                                <option value="costo">Costo (USD)</option>
                            </select>
                        </div>
                    </div>
                </div>

                <!-- KPIs -->
                <div class="panel">
                    <div class="kpi-box">
                        <div class="kpi">
                            <div class="kpi-title">MAE</div>
                            <div class="kpi-value" id="kpi_mae">--</div>
                        </div>

                        <div class="kpi">
                            <div class="kpi-title">MAPE</div>
                            <div class="kpi-value" id="kpi_mape">-- %</div>
                        </div>

                        <div class="kpi">
                            <div class="kpi-title">Datos</div>
                            <div class="kpi-value" id="kpi_points">--</div>
                        </div>
                    </div>
                </div>

                <!-- GR츼FICO -->
                <div class="panel">
                    <h2 class="section-title">Predicci칩n vs Consumo Real</h2>
                    <canvas id="chart"></canvas>
                </div>

            </section>

            <!-- ================= AHORRO ================= -->
            <section id="ahorro" class="section">
                <h2 class="section-title">游눯 Estimaci칩n de Ahorro</h2>
                <div class="kpi-box" id="kpiAhorroBox"></div>
            </section>

            <!-- ================= ANAL칈TICA ================= -->
            <section id="analitica" class="section">
                <h2 class="section-title">游늵 An치lisis Avanzado</h2>

                <div class="kpi-advanced-box">
                    <div class="kpi-advanced">
                        <div class="kpi-advanced-title">Promedio Energ칤a</div>
                        <div class="kpi-advanced-value" id="kpi_avg_energy">--</div>
                    </div>

                    <div class="kpi-advanced">
                        <div class="kpi-advanced-title">Consumo M치ximo</div>
                        <div class="kpi-advanced-value" id="kpi_peak_day">--</div>
                    </div>

                    <div class="kpi-advanced">
                        <div class="kpi-advanced-title">D칤a M치s Costoso</div>
                        <div class="kpi-advanced-value" id="kpi_expensive_day">--</div>
                    </div>
                </div>

                <div class="chart-container">
                    <canvas id="chart_combo"></canvas>
                </div>

                <div class="chart-container">
                    <canvas id="chart_top5"></canvas>
                </div>

                <div class="chart-container">
                    <canvas id="chart_hourly"></canvas>
                </div>
            </section>

            <!-- ================= ALERTAS ================= -->
            <section id="alertas" class="section">
                <h2 class="section-title">游뚿 Alertas Inteligentes</h2>
                <div class="alertas-container">
                    <div id="alertasLista"></div>
                </div>
            </section>

            <!-- ================= DATOS ================= -->
            <section id="datos" class="section">
                <h2 class="section-title">游늶 Datos Reales vs Predicci칩n</h2>
                <table>
                    <thead>
                        <tr>
                            <th>Timestamp</th>
                            <th>Real</th>
                            <th>Predicci칩n</th>
                            <th>Error</th>
                        </tr>
                    </thead>
                    <tbody id="tablaDatos"></tbody>
                </table>
            </section>

        </div>
    </main>
</div>

<script src="static/dashboard_multihorizonte.js"></script>

<!-- ================= NAVEGACI칍N ================= -->
<script>
function mostrarSeccion(id, btn) {
    document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
    document.querySelectorAll(".nav-item").forEach(b => b.classList.remove("active"));

    document.getElementById(id).classList.add("active");
    btn.classList.add("active");
}
</script>

</body>
</html>
